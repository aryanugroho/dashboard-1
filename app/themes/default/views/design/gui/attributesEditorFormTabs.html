<form role="form" class="product-tabs">

    <header class="panel-heading custom-tab">
        <ul class="nav nav-tabs">
            <li ng-class='{active:$first}' ng-repeat="(key, items) in attributeGroups" ng-click="click(key)">
                <a href="#collapse{{key}}" target="_self">
                    {{key}}
                </a>
            </li>
        </ul>
    </header>

    <div class="panel-body">
        <div class="tab-content">

            <div ng-class='{active:$first}' id="collapse{{key}}" class="tab-pane"
                 ng-repeat="(key, items) in attributeGroups">
                <gui-form-builder attributes="items" item="item" object="parent"></gui-form-builder>
            </div>
        </div>
    </div>
</form>

<div class="btn-black" ng-click="parent.save()">Save</div>
<div class="btn-black" ng-click="parent.back()">Back</div>

<script>
    (function ($) {
        $(document).on("click", 'ul.nav-tabs li a', function (event) {
            event.preventDefault();

            $(this).parent().siblings().removeClass('active');
            $(this).parent().addClass('active');
            var href = $(this).attr('href');
            $('.tab-content div').removeClass('active');
            $(href).addClass('active');
        });
    })(jQuery)

</script>
