<div class="page-header">
    <div class="pull-right">
        <div uib-dropdown
            class="btn-group">
            <a uib-dropdown-toggle
                class="btn btn-default dropdown-toggle">
                Timeframe: {{timeframe.frame}} <i class="caret"></i>
            </a>

            <ul uib-dropdown-menu
                class="dropdown-menu dropdown-menu-right">
                <li ng-repeat="opt in timeframe.options"
                    ng-class="{active: timeframe.frame === opt}">
                    <a ng-click="timeframe.set(opt)">{{opt}}</a>
                </li>
            </ul>
        </div>
    </div>

    <h1>
        <span class="fa fa-area-chart"></span>
        <a href="/reports">Reports</a> / Payment Method
    </h1>
</div>

<table class="table table-hover">
    <thead>
        <tr>
            <th>Name</th>
            <th>Total Sales</th>
            <th>Total Orders</th>
            <th>Average Order Size</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="pm in report.aggregate_items">
            <td>{{pm.method_name}} ({{pm.key}})</td>
            <td>{{pm.total_sales | currency}}</td>
            <td>{{pm.total_orders}}</td>
            <td>{{pm.avg_sales | currency}}</td>
        </tr>
        <tr ng-show="!report.aggregate_items">
            <td colspan="7" class="text-center">
                No results found for this timeframe.
            </td>
        </tr>
    </tbody>

    <!-- for testing feedback -->
    <tfoot>
        <tr>
            <td colspan="7" class="text-center">
                <small>
                    perf: {{report.perf_ms.toFixed(2)}} ms,
                    frame: {{timeframe.frame}}
                </small>
            </td>
        </tr>
    </tfoot>
</table>

